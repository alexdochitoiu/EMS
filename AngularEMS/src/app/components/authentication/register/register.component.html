<app-home></app-home>

<div tabindex="-1" role="dialog" aria-labelledby="registerModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
    <ng-template #content let-modal> 
      <form #userRegistrationForm="ngForm" (ngSubmit)="onSubmit(userRegistrationForm)" ngNativeValidate>
        <!--Content-->    
        <div class="modal-content form-elegant">
            <!--Header-->
            <div class="modal-header text-center">
                <h3 class="modal-title w-100 dark-grey-text font-weight-bold my-3"><strong>Sign up</strong></h3>
                <button type="button" class="close" aria-label="Close" (click)="modalRef.close()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <!--Body-->
            <div class="modal-body mx-4">
                <!--Body-->
                <div class="md-form mb-5">
                    <i class="fa fa-user prefix grey-text"></i>
                    <input type="text" id="username-register" class="form-control" name="Username" #Username="ngModel" [(ngModel)]="user.Username" required>
                    <label for="username-register">Your username</label>
                </div>

                <div class="md-form mb-5">
                    <i class="fa fa-envelope prefix grey-text"></i>
                    <input type="email" id="email-register" class="form-control" name="Email" #Email="ngModel" [(ngModel)]="user.Email" required>
                    <label for="email-register">Your email</label>
                </div>

                <div class="md-form mb-5">
                    <i class="fa fa-phone prefix grey-text"></i>
                    <input type="text" id="phone-register" class="form-control" name="Phone" #Phone="ngModel" [(ngModel)]="user.Phone" required>
                    <label for="phone-register">Your phone number</label>
                </div>

                <div class="md-form pb-3">
                    <i class="fa fa-lock prefix grey-text"></i>
                    <input type="password" id="password-register" class="form-control" name="Password" #Password="ngModel" [(ngModel)]="user.Password" required>
                    <label for="password-register">Your password</label>
                </div>

                <div class="md-form pb-3">
                    <i class="fa fa-lock prefix grey-text"></i>
                    <input type="password" id="confirm-password-register" class="form-control" name="ConfirmPassword" #ConfirmPassword="ngModel" [(ngModel)]="user.ConfirmPassword" required>
                    <label for="confirm-password-register">Confirm your password</label>
                </div>

                <div *ngIf="successRegistered == true" class="alert alert-success" role="alert">
                    <h6 class="alert-heading"><strong>Successfully signed up!</strong></h6>
                    <hr>
                    <p>Now you have to confirm your e-mail in order to log in.</p>
                </div>

                <div *ngFor="let error of errors" class="alert alert-danger alert-dismissible fade show" role="alert">
                    <p>{{ error }}</p>
                    <button (click)="removeError(error)" type="button" class="close" data-dismiss="alert" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="text-center mb-3">
                    <button type="submit" class="btn btn-secondary btn-block btn-rounded z-depth-1a">Sign Up</button>
                </div>
            </div>
            <!--Footer-->
            <div class="modal-footer mx-5 pt-3 mb-1">
                <p class="font-small grey-text d-flex justify-content-end">Already a member? <a (click)="modalRef.close()" routerLink="/login" class="blue-text ml-1"> Sign In</a></p>
            </div>
            <div id="loading" *ngIf="loading">
                <ngx-loading 
                  [show]="true" 
                  [config]="{
                    animationType: ngxLoadingAnimationTypes.wanderingCubes, 
                    primaryColour: '#ffffff', 
                    secondaryColour: '#0d9e73', 
                    backdropBorderRadius: '3px'
                  }"
                  [template]="loadingTemplate">
                </ngx-loading>
            </div>
        </div>
        <!--/.Content-->
      </form>
    </ng-template>
    </div>
</div>
<!-- Modal -->
